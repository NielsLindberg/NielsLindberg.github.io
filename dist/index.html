<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="#DESCRIBE YOUR PAGE"><meta name="author" content="Niels Lindberg-Poulsen"><title>#ENTER TITLE</title><style>.container{height:100vh;width:100vw}#map{height:100%;width:75%}.resultviewer{width:25%;height:100%}#pano{width:300px;height:300px;display:none}</style></head><body><header></header><div class="container"><div id="map"></div><main class="content"><div data-bind="foreach: mapEntryList"><h1 data-bind="text: title"></h1><p data-bind="text: description"></p><ul data-bind="foreach: tags"><li data-bind="text: $data"></li></ul></div></main><footer></footer></div></body><script src="../bower_components/jquery/dist/jquery.min.js"></script><script src="../bower_components/knockout/dist/knockout.js"></script><script>var mapEntries=[{title:"Copenhagen Business School, Solbjerg Campus",description:"The main campus of CBS",id:"A",tags:["school","campus","cbs"]},{title:"Harbor Bath, Islands Brygge",description:"City harbor bath",id:"B",tags:["leasure","bathing","beachvolley","sports"]},{title:"Harbor Bath, Kalvebod Brygge",description:"City harbor bath",id:"C",tags:["leasure","bathing","beachvolley","sports"]},{title:"Kebabistan",description:"Nr.1 Vesterbro Shawarma",id:"D",tags:["food","turkish","fastfood"]},{title:"Riccos Fælledvej",description:"Nice café for studying.",id:"E",tags:["café","coffee","study"]},{title:"KB18",description:"House/Techno Club in the Meatpacking district",id:"F",tags:["music","club","techno","house"]},{title:"Culture Box",description:"The main House/Techno club in Copenhagen.",id:"G",tags:["music","club","techno","house"]},{title:"Boulevarden Bodega, Sønder Boulevard",description:"Bodega at Sønder Boulevard",id:"H",tags:["bodega","billiard"]}],MapEntry=function(a){this.title=a.title,this.description=a.description,this.id=a.id,this.tags=a.tags,this.radius=100,this.placeService=null,this.streetService=null,this.directionsService=null,this.map=null,this.infoWindow=null,this.panorama=null,this.directions=null,this.bounds=null};MapEntry.prototype.initMarker=function(a,b,c,d,e,f){function g(a,b){b==google.maps.places.PlacesServiceStatus.OK&&(h.addQueryResultToObject(a[0]),h.addMarkerData(),h.showMarker(),h.map.fitBounds(h.bounds))}var h=this;this.placeService=a,this.streetService=b,this.directionsService=c,this.map=d,this.infoWindow=e,this.bounds=f;var i={query:h.title};a.textSearch(i,g)},MapEntry.prototype.addQueryResultToObject=function(a){this.placeData=a,this.location=a.geometry.location,this.formattedName=a.formatted_address,this.icon={url:a.icon,size:new google.maps.Size(35,35),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(15,35),scaledSize:new google.maps.Size(25,25)}},MapEntry.prototype.addMarkerData=function(){var a=this;this.marker=new google.maps.Marker({title:a.title,animation:google.maps.Animation.DROP,id:a.id,label:a.id,position:a.location}),a.marker.addListener("click",function(){a.populateInfoWindow()})},MapEntry.prototype.showMarker=function(){this.marker.setMap(this.map),this.bounds.extend(this.marker.position)},MapEntry.prototype.hideMarker=function(){this.marker.setMap(null)},MapEntry.prototype.populateInfoWindow=function(){if(this.infoWindow.marker!=this.marker){var a=this;this.infoWindow.setContent('<div id="infowindow"><div id="pano"></div><div id="directions"></div>'+buttonPanorama+buttonDirections+"</div>"),this.infoWindow.marker=this.marker,this.infoWindow.open(this.map,this.marker),this.infoWindow.addListener("closeclick",function(){a.infoWindow.marker=null}),document.getElementById("show-panorama").addEventListener("click",function(){a.hideDisplayDirections(),a.createPanoramaView(a)}),document.getElementById("show-directions").addEventListener("click",function(){a.hidePanoramaView(a),a.displayDirections(a)})}},MapEntry.prototype.hidePanoramaView=function(){document.getElementById("pano").style.display="none"},MapEntry.prototype.hideDisplayDirections=function(){directionsDisplayList.length>0&&directionsDisplayList.forEach(function(a){a.setMap(null),a.setDirections({routes:[]})})},MapEntry.prototype.createPanoramaView=function(a){function b(b,c){if(c==google.maps.StreetViewStatus.OK){var d=b.location.latLng,e=google.maps.geometry.spherical.computeHeading(d,a.marker.position),f={position:d,linksControl:!1,panControl:!1,enableCloseButton:!1,pov:{heading:e,pitch:0}};a.panorama=new google.maps.StreetViewPanorama(document.getElementById("pano"),f)}}a.streetService=new google.maps.StreetViewService,a.streetService.getPanoramaByLocation(a.marker.position,a.radius,b),document.getElementById("pano").style.display="block"};var directionsDisplayList=[];MapEntry.prototype.displayDirections=function(a){a.directionsService=new google.maps.DirectionsService,a.hideDisplayDirections();var b=mapEntryViewModel.mapEntryList()[0].location,c=a.location,d="TRANSIT";a.directionsService.route({origin:b,destination:c,travelMode:google.maps.TravelMode[d]},function(b,c){if(c===google.maps.DirectionsStatus.OK){var d=new google.maps.DirectionsRenderer({map:a.map,directions:b,draggable:!1,polylineOptions:{strokeColor:"green"},markerOptions:{visible:!1},preserveViewport:!0});d.setPanel(document.getElementById("directions")),directionsDisplayList.push(d),a.directions=d}else window.alert("Directions request failed due to "+c)})};</script><script>var styles=[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"poi",elementType:"park",stylers:[{visibility:"on"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-255},{lightness:0}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"on"}]},{featureType:"water",elementType:"all",stylers:[{color:"#46bcec"},{visibility:"on"}]}];</script><script>function MapEntryViewModel(){mapEntryViewModel=this,mapEntryViewModel.mapEntryList=ko.observableArray([]),mapEntries.forEach(function(a){mapEntryViewModel.mapEntryList.push(new MapEntry(a))})}function initMap(){var a=new google.maps.Map(document.getElementById("map"),{center:{lat:55.6761,lng:12.5683},zoom:14,styles:styles}),b=new google.maps.places.PlacesService(a),c=new google.maps.StreetViewService,d=new google.maps.DirectionsService,e=new google.maps.InfoWindow({}),f=new google.maps.LatLngBounds;mapEntryViewModel.mapEntryList().forEach(function(g){g.initMarker(b,c,d,a,e,f)})}var mapEntryViewModel,buttonPanorama='<input id="show-panorama" type="button" value="Show Panorama">',panoramaDiv='<div id="pano"></div>',buttonDirections='<input id="show-directions" type="button" value="Show Directions">';ko.applyBindings(new MapEntryViewModel);</script><script async defer="defer" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDwCMeEpZWGWPIgmzaGxGj7D4odnXZQVkE&v=3&callback=initMap&libraries=places,geometry,drawing"></script></html>