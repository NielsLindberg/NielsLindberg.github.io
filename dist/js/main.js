function ViewModel(){vm=this,vm.mapEntryList=[],vm.errorMessages=errorMessages,vm.loadingMessages=loadingMessages,vm.yelpStatic=yelpStatic,vm.entryList=ko.observableArray([]),vm.selectedItemTitle=ko.observable("Select a location"),vm.mapError=ko.observable(!1),vm.yelpPhone=ko.observable(),vm.yelpRatingImgUrl=ko.observable(),vm.yelpUrl=ko.observable(),vm.yelpName=ko.observable(),vm.panoVisible=ko.observable(!1),vm.panoContentVisible=ko.observable(!1),vm.panoLoading=ko.observable(!1),vm.panoError=ko.observable(!1),vm.directionsVisible=ko.observable(!1),vm.directionsLoading=ko.observable(!1),vm.directionsError=ko.observable(!1),vm.yelpVisible=ko.observable(!1),vm.yelpContentVisible=ko.observable(!1),vm.yelpLoading=ko.observable(!1),vm.yelpError=ko.observable(!1),mapEntries.forEach(function(a,b){var c=String.fromCharCode(65+b);vm.entryList.push(new ListEntry(a,c)),vm.mapEntryList.push(new MapEntry(a,c))}),vm.entryListFiltered=ko.observableArray(vm.entryList()),vm.errorMap=function(){vm.mapError(!0)},vm.initMap=function(){var a=new google.maps.Map(document.getElementById("map"),{center:{lat:55.6761,lng:12.5683},zoom:14,styles:styles}),b=new google.maps.places.PlacesService(a),c=new google.maps.StreetViewService,d=new google.maps.DirectionsService,e=new google.maps.InfoWindow({}),f=new google.maps.LatLngBounds;vm.mapEntryList.forEach(function(g){g.initMarker(b,c,d,a,e,f)})},vm.categoriesFilter=ko.observable("All"),vm.categoryLabelFilter=function(a,b){vm.categoriesFilter(""),vm.categoriesFilter(a.category)},vm.itemLabelFilter=function(a,b){vm.mapEntryList.forEach(function(b){b.id==a.id&&(b.onItemSelectClearEvents(),b.populateInfoWindow(),b.toggleBounce())}),vm.selectedItemTitle(a.title)},vm.categories=ko.computed(function(){var a=ko.utils.arrayMap(vm.entryList(),function(a){return a.category});return a.sort()},vm),vm.uniqueCategories=ko.computed(function(){var a=["All"];return a.concat(ko.utils.arrayGetDistinctValues(vm.categories()).sort())},vm),vm.createPanoramaView=function(a,b){vm.mapEntryList.forEach(function(b){b.id==a.id&&(b.hideContentViews(),b.createPanoramaView(b))})},vm.displayDirections=function(a,b){vm.mapEntryList.forEach(function(b){b.id==a.id&&(b.hideContentViews(),b.displayDirections(b))})},vm.createYelpView=function(a,b){vm.mapEntryList.forEach(function(b){b.id==a.id&&(b.hideContentViews(),b.createYelpView())})},vm.categoryColors={},vm.categoryIconColors={},vm.uniqueCategories().forEach(function(a,b){var c,d;b<themeColors.length-1?(c=themeColors[b],d=themeColors[b].substring(1,7)):(c=themeColors[themeColors.length-1],d=themeColors[themeColors.length-1].substring(1,7)),vm.categoryColors[a]=c,vm.categoryIconColors[a]=d}),vm.filterMarkers=function(){vm.mapEntryList.forEach(function(a){a.onItemSelectClearEvents(),a.category==vm.categoriesFilter()||"All"==vm.categoriesFilter()?a.showMarker():a.hideMarker()})},vm.categoriesFilter.subscribe(function(){var a=vm.categoriesFilter();vm.selectedItemTitle("Select a location"),a&&"All"!=a?vm.entryListFiltered(ko.utils.arrayFilter(vm.entryList(),function(b){return b.category==a})):vm.entryListFiltered(vm.entryList())}),vm.entryListFiltered.subscribe(function(){vm.filterMarkers()})}var themeColors=["#ffffff","#e384a6","#f4d499","#4d90d6","#c7e38c","#9986c8","#edf28c","#ffd1d4","#5ee1dc","#b0eead","#fef85a","#8badd2"],vm;ko.applyBindings(new ViewModel);