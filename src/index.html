<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Copenhagen Map, Udacity Project">
    <meta name="author" content="Niels Lindberg-Poulsen">
    <title>Neighborhood Map</title>
    <link href="css/style.css" rel="stylesheet">
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
    <script src="../bower_components/knockout/dist/knockout.js"></script>
</head>

<body>
    <header>
    </header>
    <div class="page-wrapper">
        <main class="content">
            <div class="left-menu">
                <select id="category-drop" data-bind="options: uniqueCategories, value: categoriesFilter"></select>
                <div class="list-container">
                    <ul data-bind="foreach: entryListFiltered">
                        <li class="list-item">
                            <p class="title-label" data-bind="text: title, click: vm.itemLabelFilter"></p>
                            <p class="category-label" data-bind="text: category, click: vm.categoryLabelFilter"></p>
                            <p class="item-id" data-bind="text: id, style: { backgroundColor: vm.categoryColors[category] }"></p>
                        </li>
                    </ul>
                </div>
                <div id="result-container" class="result-container">
                    <hr>
                    <h1 id="result-title" data-bind="text: vm.selectedItemTitle"></h1>
                    <div id="buttons" data-bind="foreach: entryList">
                        <input id="xshow-panorama" class="content-button" type="button" value="Streetview" data-bind="visible: contentButtonsVisible, click: $root.createPanoramaView">
                        <input id="xshow-directions" class="content-button" type="button" value="Directions" data-bind="visible: contentButtonsVisible, click: $root.displayDirections">
                        <input id="xshow-yelp" class="content-button" type="button" value="Yelp" data-bind="visible: contentButtonsVisible, click: $root.createYelpView">
                    </div>
                    <div id="pano" class="content-container" data-bind="visible: vm.panoVisible">
                        <div id="pano-loading" data-bind="visible: vm.panoLoading">
                            <p data-bind="text: vm.loadingMessages.googleStreetService"></p>
                        </div>
                        <div id="pano-error" data-bind="visible: vm.panoError">
                            <p data-bind="text: vm.errorMessages.googleStreetService"></p>
                        </div>
                        <div id="pano-content" data-bind="visible: vm.panoContentVisible">
                        </div>
                    </div>
                    <div id="directions" class="content-container" data-bind="visible: vm.directionsVisible">
                        <div id="directions-loading" data-bind="visible: vm.directionsLoading">
                            <p data-bind="text: vm.loadingMessages.googleDirections"></p>
                        </div>
                        <div id="directions-error" data-bind="visible: vm.directionsError">
                            <p data-bind="text: vm.errorMessages.googleDirections"></p>
                        </div>
                    </div>
                    <div id="yelp" class="content-container" data-bind="visible: vm.yelpVisible">
                        <div id="yelp-loading" data-bind="visible: vm.yelpLoading">
                            <p data-bind="text: vm.loadingMessages.yelp"></p>
                        </div>
                        <div id="yelp-error" data-bind="visible: vm.yelpError">
                            <p data-bind="text: vm.errorMessages.yelp"></p>
                        </div>
                        <div id="yelp-content" data-bind="visible: vm.yelpContentVisible">
                            <div id="yelp-phone" class="yelp-item yelp-phone">
                                <h4 data-bind="text: vm.yelpStatic.phone"></h4>
                                <p data-bind="text: vm.yelpPhone"></p>
                            </div>
                            <div id="yelp-url" class="yelp-item">
                                <h4 data-bind="text: vm.yelpStatic.url"></h4>
                                <a data-bind="attr: { href: vm.yelpUrl }, text: vm.yelpName" target="_blank"></a>
                            </div>
                            <div id="yelp-img" class="yelp-item">
                                <h4 data-bind="text: vm.yelpStatic.rating"></h4><img src="" alt="Yelp image placeholder" data-bind="attr: { src: vm.yelpRatingImgUrl, alt: vm.yelpName }"></div>
                            <div class="attribution yelp-item">
                                <p data-bind="text: vm.yelpStatic.credits"></p>
                            </div>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>
            <div id="map">
                <p id="mapError" data-bind="visible: vm.mapError, text: vm.errorMessages.googleMap"></p>
            </div>
        </main>
        <footer>
        </footer>
    </div>
    <script src="../bower_components/oauth-signature/dist/oauth-signature.min.js"></script>
    <script src="js/models/mapEntries.js"></script>
    <script src="js/mapStyles.js"></script>
    <script src="js/main.js"></script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDwCMeEpZWGWPIgmzaGxGj7D4odnXZQVkE&v=3&callback=vm.initMap&libraries=places,geometry,drawing" onerror="vm.errorMap()"></script>
</body>

</html>
